<!doctype html>
<html lang="en">

  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    
    <title>Hello, world!</title>
    <style>
      .wrap {
        height: 100vh;
        background-color: rgb(244, 245, 255);
        padding: 12px 12px 12px 12px;
        display: flex;
        flex-direction: column;
      }
    
      p {
        margin-bottom: 0px;
      }
      </style>
      <script>
        function calc() {
          let r = parseFloat(document.getElementById("r").value.replace(",", "."))
          let i = parseFloat(document.getElementById("i").value.replace(",", ".")) / 100 
          let n = parseFloat(document.getElementById("n").value.replace(",", "."))
          let t = parseFloat(document.getElementById("t").value.replace(",", "."))
    
          let fva1 = Math.pow((1 + i), n ) - 1
          let fva2 = Math.pow((1 + i), n ) * i
          let fvaFinal1 = fva1 / fva2

          let fva3 = Math.pow((1 + i), n - t) - 1
          let fva4 = Math.pow((1 + i), n - t) * i
          let fvaFinal2 = fva3 / fva4
          
          let result1 = fvaFinal1 - fvaFinal2
         
          let result2 = r * result1
          document.getElementById("result").innerHTML = `Valor das amortizações acumuladas de ${t} parcelas é: R$ ${result2.toFixed(2)}`
          console.log(result)
        }
      </script>
    </head>
    
    <body>
      <div class="wrap">
        <h3>7. Calcular o valor das amortizacão acumuladas até determinada prestação</h3>
    
        <label for="r">Digite o valor da parcela (R)</label>
        <input type="text" id="r" name="r" value="0">
    
        <label for="i">Digite a taxa de juros em porcentagem (%)</label>
        <input type="text" id="i" name="i" value="0">
    
        <label for="n">Digite o número de parcelas (n)</label>
        <input type="text" id="n" name="n" value="0">
    
        <label for="t">Digite o número prestações acumuladas (t)</label>
        <input type="text" id="t" name="t" value="0">
    
        <button onclick="calc()" class="mt-4 btn btn-success">Calcular</button>
    
        <h2 class="mt-4" id="result">Valor das amortizações acumuladas é: R$ 0,00</h2>
      </div>
    
      <!-- Bootstrap -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    </body>

</html>